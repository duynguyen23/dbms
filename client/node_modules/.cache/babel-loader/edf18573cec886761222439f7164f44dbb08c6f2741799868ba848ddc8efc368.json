{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenminhduy/Code/Database Ass/client/src/comp/addClass.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport '../pages/style.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Add = ({\n  onConfirm,\n  onClose,\n  course\n}) => {\n  _s();\n  const [lecturers, setLecturers] = useState([]);\n  useEffect(() => {\n    const fetchAllLecturers = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8800/lecturer\");\n        setLecturers(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAllLecturers();\n  }, []);\n  const [classOpen, setClassOpen] = useState({\n    course_id: course.course_id,\n    semester_id: course.semester_id,\n    groud_id: null,\n    class_building: null,\n    room_number: null,\n    lecturer_id: null\n  });\n  const handleChange = e => {\n    setClassOpen(prev => e.target.name == \"lecturer_id\" ? {\n      ...prev,\n      [e.target.name]: e.target.value.split()[0]\n    } : {\n      ...prev,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleClick = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(\"http://localhost:8800/class\", register);\n      window.location.reload();\n    } catch (err) {\n      alert(err.response.data.sqlMessage);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overlay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Modal open\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"T\\u1EA1o l\\u1EDBp m\\u1EDBi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-label\",\n            children: \"Ch\\u1ECDn gi\\u1EA3ng vi\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"disabledSelect\",\n            name: \"lecturer_id\",\n            onChange: handleChange,\n            className: \"form-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Ch\\u1ECDn gi\\u1EA3ng vi\\xEAn: m\\xE3 gi\\u1EA3ng vi\\xEAn - t\\xEAn gi\\u1EA3ng vi\\xEAn - Chuy\\xEAn ng\\xE0nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this), lecturers.map(lecturer => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: [lecturer.lecturer_id, \" - \", lecturer.lecturer_name, \" - \", lecturer.speciality]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-success\",\n          onClick: handleClick,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          onClick: onClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }, this);\n};\n_s(Add, \"QhYJrdFjWfGeb5xivi8akl+OXC4=\");\n_c = Add;\nexport default Add;\nvar _c;\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Add","onConfirm","onClose","course","_s","lecturers","setLecturers","fetchAllLecturers","res","get","data","err","console","log","classOpen","setClassOpen","course_id","semester_id","groud_id","class_building","room_number","lecturer_id","handleChange","e","prev","target","name","value","split","handleClick","preventDefault","post","register","window","location","reload","alert","response","sqlMessage","children","className","fileName","_jsxFileName","lineNumber","columnNumber","class","id","onChange","map","lecturer","lecturer_name","speciality","type","onClick","_c","$RefreshReg$"],"sources":["/Users/nguyenminhduy/Code/Database Ass/client/src/comp/addClass.jsx"],"sourcesContent":["import React from 'react'\nimport {useState, useEffect} from 'react'\nimport '../pages/style.css'\nimport axios from 'axios'\n\n\nconst Add = ({onConfirm, onClose, course}) => {\n\n    const [lecturers, setLecturers] = useState([])\n\n    useEffect(() =>{\n        const fetchAllLecturers = async () => {\n            try {\n                const res = await axios.get(\"http://localhost:8800/lecturer\")\n                setLecturers(res.data);\n            } catch (err){\n                console.log(err)\n            }\n        }\n        fetchAllLecturers()\n    },[])\n\n    const [classOpen, setClassOpen] = useState({\n        course_id: course.course_id,\n        semester_id: course.semester_id,\n        groud_id: null,\n        class_building: null,\n        room_number: null,\n        lecturer_id: null,\n    })\n\n    const handleChange = (e) =>{\n        setClassOpen(prev => (e.target.name == \"lecturer_id\"?{...prev, [e.target.name]: (e.target.value).split()[0]}:{...prev, [e.target.name]: (e.target.value)}))\n    }\n\n    const handleClick = async e => {\n        e.preventDefault()\n        try {\n            await axios.post(\"http://localhost:8800/class\", register)\n            window.location.reload();\n        }catch(err){\n            alert(err.response.data.sqlMessage)\n        }\n    }\n\n    return(\n      <div> \n        <div className=\"overlay\"></div>\n        <div className='Modal open'>\n        <h1>Tạo lớp mới</h1>\n            <div className=\"form\">\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Chọn giảng viên</label>\n                    <select id=\"disabledSelect\" name='lecturer_id' onChange={handleChange} className=\"form-select\">\n                        <option>Chọn giảng viên: mã giảng viên - tên giảng viên - Chuyên ngành</option>\n                        {lecturers.map(lecturer => (\n                            <option>{lecturer.lecturer_id} - {lecturer.lecturer_name} - {lecturer.speciality}</option>\n                        ))}\n                    </select>\n                </div>\n                <button type=\"submit\" className=\"btn btn-success\" onClick={handleClick}>Submit</button>\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={onClose}>Cancel</button>\n            </div>      \n        </div>\n      </div> \n    )\n}\n\nexport default Add"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,OAAO,oBAAoB;AAC3B,OAAOC,KAAK,MAAM,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGzB,MAAMC,GAAG,GAAGA,CAAC;EAACC,SAAS;EAAEC,OAAO;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EAE1C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAK;IACX,MAAMW,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACA,MAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAC,gCAAgC,CAAC;QAC7DH,YAAY,CAACE,GAAG,CAACE,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOC,GAAG,EAAC;QACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MACpB;IACJ,CAAC;IACDJ,iBAAiB,CAAC,CAAC;EACvB,CAAC,EAAC,EAAE,CAAC;EAEL,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC;IACvCqB,SAAS,EAAEb,MAAM,CAACa,SAAS;IAC3BC,WAAW,EAAEd,MAAM,CAACc,WAAW;IAC/BC,QAAQ,EAAE,IAAI;IACdC,cAAc,EAAE,IAAI;IACpBC,WAAW,EAAE,IAAI;IACjBC,WAAW,EAAE;EACjB,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAIC,CAAC,IAAI;IACvBR,YAAY,CAACS,IAAI,IAAKD,CAAC,CAACE,MAAM,CAACC,IAAI,IAAI,aAAa,GAAC;MAAC,GAAGF,IAAI;MAAE,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,GAAIH,CAAC,CAACE,MAAM,CAACE,KAAK,CAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;IAAC,CAAC,GAAC;MAAC,GAAGJ,IAAI;MAAE,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,GAAIH,CAAC,CAACE,MAAM,CAACE;IAAM,CAAE,CAAC;EAC/J,CAAC;EAED,MAAME,WAAW,GAAG,MAAMN,CAAC,IAAI;IAC3BA,CAAC,CAACO,cAAc,CAAC,CAAC;IAClB,IAAI;MACA,MAAMjC,KAAK,CAACkC,IAAI,CAAC,6BAA6B,EAAEC,QAAQ,CAAC;MACzDC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC5B,CAAC,QAAMxB,GAAG,EAAC;MACPyB,KAAK,CAACzB,GAAG,CAAC0B,QAAQ,CAAC3B,IAAI,CAAC4B,UAAU,CAAC;IACvC;EACJ,CAAC;EAED,oBACEvC,OAAA;IAAAwC,QAAA,gBACExC,OAAA;MAAKyC,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC/B7C,OAAA;MAAKyC,SAAS,EAAC,YAAY;MAAAD,QAAA,gBAC3BxC,OAAA;QAAAwC,QAAA,EAAI;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChB7C,OAAA;QAAKyC,SAAS,EAAC,MAAM;QAAAD,QAAA,gBACjBxC,OAAA;UAAK8C,KAAK,EAAC,MAAM;UAAAN,QAAA,gBACbxC,OAAA;YAAO8C,KAAK,EAAC,YAAY;YAAAN,QAAA,EAAC;UAAe;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjD7C,OAAA;YAAQ+C,EAAE,EAAC,gBAAgB;YAACpB,IAAI,EAAC,aAAa;YAACqB,QAAQ,EAAEzB,YAAa;YAACkB,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1FxC,OAAA;cAAAwC,QAAA,EAAQ;YAA8D;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC9EvC,SAAS,CAAC2C,GAAG,CAACC,QAAQ,iBACnBlD,OAAA;cAAAwC,QAAA,GAASU,QAAQ,CAAC5B,WAAW,EAAC,KAAG,EAAC4B,QAAQ,CAACC,aAAa,EAAC,KAAG,EAACD,QAAQ,CAACE,UAAU;YAAA;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAC5F,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACN7C,OAAA;UAAQqD,IAAI,EAAC,QAAQ;UAACZ,SAAS,EAAC,iBAAiB;UAACa,OAAO,EAAExB,WAAY;UAAAU,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvF7C,OAAA;UAAQqD,IAAI,EAAC,QAAQ;UAACZ,SAAS,EAAC,iBAAiB;UAACa,OAAO,EAAEnD,OAAQ;UAAAqC,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEZ,CAAC;AAAAxC,EAAA,CA5DKJ,GAAG;AAAAsD,EAAA,GAAHtD,GAAG;AA8DT,eAAeA,GAAG;AAAA,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}